"use strict";!function(t){function e(e,i){if(null===S&&n(),e){var o=function(){var t=E++;return S+t.toString(16)}(),a=d.referrer,u=(new Date).getTime();e={p:C,s:k,v:S,e:o,c:u,n:A?"t":"f",f:x?"t":"f",l:t.location.href,r:a||void 0,i:v,j:m,k:t.devicePixelRatio,w:c(),h:s(),t:e};var l="",h={};for(var f in a=function(t,e){0<l.length&&(l+="&");var n=h[t];void 0===n&&(n=[],h[t]=n),n.push(e),l+=t+"="+encodeURIComponent(e)},e)if(e.hasOwnProperty(f)){var p=e[f];switch(typeof p){case"undefined":break;case"number":a(f,p.toString(36));break;default:a(f,p)}}void 0!==i&&a("u",j(i)),x=A=!1,r("_sotmsid",k,1800,u,""),r("_sotmpid",C,63072e3,u,""),a("x",function(t){var e=[];for(n in t)t.hasOwnProperty(n)&&e.push(n);e.sort();for(var n="",i=0;i<e.length;++i){var o=e[i],r=t[o];for(n+=o,n+="=",o=0;o<r.length;++o)n+=r[o],n+=",";n+=";"}return t=unescape(encodeURIComponent(n)),b(t)}(h).toString(36)),H.g(l)}else o=null;return o}function n(){T||(S=w(!1),D.pageViewId=S,E=0)}function i(){this.b=[]}function o(t,e){var n=!1,i=setTimeout(function(){n||(n=!0,t.apply(this,arguments))},e);return function(){n||(n=!0,clearTimeout(i),t.apply(this,arguments))}}function r(t,e,n,i,o){t=t+"="+e+"; path=/; expires="+new Date(i+1e3*n).toUTCString()+"; max-age="+n,o&&(t+="; domain="+o),d.cookie=t}function a(t){return d.cookie.replace(new RegExp("(?:(?:^|.*;)\\s*"+t+"\\s*\\=\\s*([^;]*).*$)|^.*$"),"$1")||null}function s(){return t.innerHeight||d.documentElement.clientHeight||u().clientHeight||d.documentElement.offsetHeight||u().offsetHeight}function c(){return t.innerWidth||d.documentElement.clientWidth||u().clientWidth||d.documentElement.offsetWidth||u().offsetWidth}function u(){return d.body||d.getElementsByTagName("body").item(0)}var l,h,f,d=t.document,p=t.navigator,g=function(){function t(){throw"Divolte could not initialize itself."}var e,n=d.currentScript;if(void 0===n){n=d.getElementsByTagName("script");for(var i=new RegExp("^(:?.*/)?"+"sotm.js".replace(/[.*+?^${}()|[\]\\]/g,"\\$&")+"(:?[?#].*)?$"),o=n.length-1;0<=o;--o){var r=n.item(o).src;i.test(r)&&(void 0===e?e=r:t())}}else e=n.src;return void 0===e&&t(),e}(),v=t.screen.availWidth,m=t.screen.availHeight,y=(l=[0,10,20,5,15,16,1,11,21,6,7,17,2,12,22,23,8,18,3,13,14,24,9,19,4],h=[1,32898,32906,2147516416,32907,2147483649,2147516545,32777,138,136,2147516425,2147483658,2147516555,139,32905,32771,32770,128,32778,2147483658,2147516545,32896],f=[0,1,30,28,27,4,12,6,23,20,3,10,11,25,7,9,13,15,21,8,18,2,29,24,14],function(t){var e,n=[];for(e=0;25>e;e+=1)n[e]=0;if(15==t.length%16)t+="è€";else{for(t+="";15!=t.length%16;)t+="\0";t+="è€€"}for(var i=0;i<t.length;i+=16){for(e=0;16>e;e+=2)n[e/2]^=t.charCodeAt(i+e)+65536*t.charCodeAt(i+e+1);for(var o=0;22>o;o+=1){var r=[];for(e=0;5>e;e+=1)r[e]=n[e]^n[e+5]^n[e+10]^n[e+15]^n[e+20];var a=[];for(e=0;5>e;e+=1){var s=r[(e+1)%5];a[e]=r[(e+4)%5]^(s<<1|s>>>31)}for(r=[],e=0;25>e;e+=1){s=n[e]^a[e%5];var c=f[e];r[l[e]]=s<<c|s>>>32-c}for(e=0;5>e;e+=1)for(a=0;25>a;a+=5)n[a+e]=r[a+e]^~r[a+(e+1)%5]&r[a+(e+2)%5];n[0]^=h[o]}}for(t=[],e=0;8>e;++e)i=n[e],t.push(255&i,i>>>8,i>>>16,i>>>24);return t}),b=function(){function t(t,e){var n=65535&e;return((e-n)*t|0)+(n*t|0)|0}return function(e,n){var i=e.length;n=void 0!==n?n:0;for(var o,r=-4&i,a=0;a<r;a+=4)o=t(o=255&e.charCodeAt(a)|(255&e.charCodeAt(a+1))<<8|(255&e.charCodeAt(a+2))<<16|(255&e.charCodeAt(a+3))<<24,3432918353),n=5*(n=(524287&(n^=o=t(o=(131071&o)<<15|o>>>17,461845907)))<<13|n>>>19)+3864292196|0;switch(o=0,i%4){case 3:o=(255&e.charCodeAt(r+2))<<16;case 2:o|=(255&e.charCodeAt(r+1))<<8;case 1:o=t(o|=255&e.charCodeAt(r),3432918353),n^=o=t((131071&o)<<15|o>>>17,461845907)}return e=t((e=n^i)^e>>>16,2246822507),(e=t(e^e>>>13,3266489909))^e>>>16}}(),w=function(){function e(){var e=c(),n=s(),i=p.mimeTypes;if(i)for(var o="plugins:",r=0,l=a.length;r<l;++r)o+=a[r]in i?"1":"0";else o="";i=p.userAgent||"",r=p.platform||"",l=p.language||"";var h=p.systemLanguage||"",f=p.userLanguage||"",d=v?v.toString(36):"",g=m?m.toString(36):"",y=e?e.toString(36):"";if(e=n?e.toString(36):"","ActiveXObject"in t){n="activex:";for(var b=0,w=u.length;b<w;++b){var C=u[b];try{var k=new ActiveXObject(C);n+="1","getVersions"in k?n+="("+k.getVersions()+")":"getVariable"in k&&(n+="("+k.getVariable("$version")+")")}catch(t){n+="0"}}}else n="";return[i,r,l,h,f,d,g,y,e,o,n]}var n=Math,i=t.crypto||t.msCrypto,o=void 0!==i&&void 0!==i.getRandomValues,r=o?function(t){return t=new Uint8Array(t),i.getRandomValues(t),t}:function(t){for(var e=Array(t),i=0;i<t;++i)e[i]=n.floor(256*n.random());return e},a="application/pdf video/quicktime video/x-msvideo audio/x-pn-realaudio-plugin audio/mpeg3 application/googletalk application/x-mplayer2 application/x-director application/x-shockwave-flash application/x-java-vm application/x-googlegears application/x-silverlight".split(" "),u=["ShockwaveFlash.ShockwaveFlash.1","AcroPDF.PDF","AgControl.AgControl","QuickTime.QuickTime"],l=(new Date).getTime();return function(n){for(var i=(new Date).getTime().toString(36),a=t.location.href||"",s=r(32),c="",u=0;u<s.length;++u)c+=String.fromCharCode(s[u]);for(i=[i,a,c],o||i.push.apply(i,e()),a="",s=0,c=(i=y(i.join(""))).length;s<c;++s)a+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxzy0123456789~_".charAt(63&i[s]);return o||(a+="!"),i=a,"0:"+(n?l.toString(36)+":"+i:i)}}(),C=a("_sotmpid"),k=a("_sotmsid"),S=function(t){var e=t.indexOf("#");if(null!==(t=-1!==e?t.substring(e+1):null)&&-1!==t.indexOf("/"))throw"DVT not initialized correctly; page view ID may not contain a slash ('/').";return t}(g),A=!C,x=!k,T=!!S;A&&(C=w(!0)),x&&(k=w(!0));var E=0;i.prototype.g=function(t){var e=this.b;e.push(t),1===e.length&&this.m()},i.prototype.m=function(){var t=this.b[0];switch(typeof t){case"string":this.o(t);break;case"function":this.u(t);break;default:this.a()}},i.prototype.o=function(t){var e=this,n=new Image(1,1),i=o(function(){e.a()},750);n.onload=i,n.onerror=i,n.src="https://measure.smartocto.com/sotm-event?"+t},i.prototype.u=function(t){t(),this.a()},i.prototype.a=function(){var t=this.b;t.shift(),0<t.length&&this.m()};var H=new i,j=function(){function t(){this.a="",this.g=null}var e;return t.prototype.K=function(){this.b("(")},t.prototype.H=function(){this.g=null,this.b(")")},t.prototype.J=function(){this.b("a")},t.prototype.G=function(){this.b(".")},t.prototype.I=function(t){this.g=t},t.prototype.b=function(e,n){this.a+=e,null!==this.g&&(this.a+=t.a(this.g),this.a+="!",this.g=null),n&&(this.a+=n)},t.a=(e=/~!/g,function(t){return t.replace(e,"~$&")}),t.prototype.F=function(e){this.b("s",t.a(e)+"!")},t.prototype.C=function(t){if(isFinite(t)){var e=t===Math.floor(t)?t.toString(36):null,n=t.toExponential();t=String(t),null!==e&&e.length<=n.length&&e.length<=t.length?this.b("d",e+"!"):this.b("j",(n.length<t.length?n:t)+"!")}else this.encode(null,!1)},t.prototype.o=function(t){this.b(t?"t":"f")},t.prototype.B=function(){this.b("n")},t.prototype.m=function(t){this.J();for(var e=0;e<t.length;++e)this.encode(t[e],!0);this.G()},t.prototype.u=function(){function t(t,e){for(e=e.toString();e.length<t;)e="0"+e;return e}return function(e){this.encode(isFinite(e.valueOf())?e.getUTCFullYear()+"-"+t(2,e.getUTCMonth()+1)+"-"+t(2,e.getUTCDate())+"T"+t(2,e.getUTCHours())+":"+t(2,e.getUTCMinutes())+":"+t(2,e.getUTCSeconds())+"."+t(3,e.getUTCMilliseconds())+"Z":null,!1)}}(),t.prototype.A=function(t){for(var e in this.K(),t)Object.prototype.hasOwnProperty.call(t,e)&&(this.I(e),this.encode(t[e],!1));this.H()},t.prototype.D=function(t,e){if(null===t)this.B();else if("function"==typeof t.toJSON)this.encode(t.toJSON(),e);else switch(Object.prototype.toString.call(t)){case"[object Array]":this.m(t);break;case"[object Date]":this.u(t);break;default:this.A(t)}},t.prototype.encode=function(t,e){switch(typeof t){case"string":this.F(t);break;case"number":this.C(t);break;case"boolean":this.o(t);break;case"object":this.D(t,e);break;case"undefined":e&&this.encode(null,!1);break;default:throw"Cannot encode of type: "+typeof t}},t.b=function(e){var n=new t;return n.encode(e,!1),""!==(e=n.a)?e:void 0},t.b}(),D={partyId:C,sessionId:k,pageViewId:S,isNewPartyId:A,isFirstInSession:x,isServerPageView:T,signal:e,whenCommitted:function(t,e){void 0!==e&&(t=o(t,e)),H.g(t)}};if("object"!=typeof t.divolte){if("function"==typeof t.define&&t.define.amd?window.divolte=D:void 0!==t.module&&t.module.exports?t.module.exports=D:t.divolte=D,void 0!==d.hidden)var I="hidden",O="visibilitychange";else void 0!==d.mozHidden?(I="mozHidden",O="mozvisibilitychange"):void 0!==d.msHidden?(I="msHidden",O="msvisibilitychange"):void 0!==d.webkitHidden&&(I="webkitHidden",O="webkitvisibilitychange");d[I]&&d.addEventListener&&d.removeEventListener?d.addEventListener(O,function t(){null===S&&!1===d[I]&&n(),null!==S&&d.removeEventListener(O,t)}):n(),"onpageshow"in t&&"onpagehide"in t&&t.addEventListener&&t.removeEventListener?t.addEventListener("pagehide",function e(){t.removeEventListener("pagehide",e),t.addEventListener("pageshow",function(){n()})}):(g=t.history)&&(g.navigationMode,1)&&(g.navigationMode="compatible")}}("undefined"!=typeof window?window:this);
